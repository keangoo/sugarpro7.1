{{!
 * By installing or using this file, you are confirming on behalf of the entity
 * subscribed to the SugarCRM Inc. product ("Company") that Company is bound by
 * the SugarCRM Inc. Master Subscription Agreement ("MSA"), which is viewable at:
 * http://www.sugarcrm.com/master-subscription-agreement
 *
 * If Company is not bound by the MSA, then by installing or using this file
 * you are agreeing unconditionally that Company will be bound by the MSA and
 * certifying that you have authority to bind Company accordingly.
 *
 * Copyright  2004-2013 SugarCRM Inc.  All rights reserved.
}}
<div>
    {{#if model.isNotEmpty}}
        {{#if enableHeaderPane}}
        <div class="headerpane">
            <h1>
            {{#each meta.panels}}
                {{#if header}}
                    {{#each grid}}
                        {{#each this}}
                            <span class="record-cell" data-type="{{type}}" data-name="{{name}}">
                                {{#if ../../this.labels}}
                                    {{#unless dismiss_label}}
                                        <div class="record-label" data-name="{{name}}">{{str label ../../../../../../this.model.module}}</div>
                                    {{/unless}}
                                {{/if}}
                                <span class="index{{index}}" data-fieldname="{{name}}" data-index="{{index}}">
                                    {{field ../../../../this model=../../../../this.model template=../../../../this.action}}
                                </span>
                                {{#unless ../../../../createMode}}
                                    {{#notHas name ../../../../../noEditFields}}
                                        <span class="record-edit-link-wrapper" data-name="{{name}}">
                                            <a class="record-edit-link btn btn-invisible" data-type="{{type}}" data-name="{{name}}"><i class="icon-pencil"></i></a>
                                        </span>
                                    {{/notHas}}
                                {{/unless}}
                            </span>
                        {{/each}}
                    {{/each}}
                {{/if}}
            {{/each}}
            {{#if enableHeaderButtons}}
            <div class="btn-toolbar pull-right">
                {{#unless createMode}}
                {{#if showPrevNextBtnGroup}}
                <div class="btn-group btn-group-previous-next">
                    <button class="btn btn-invisible previous-row{{#unless showPrevious}} disabled{{/unless}}" data-action="scroll" data-action-type="prev" data-id="{{getFieldValue model "id"}}">
                        <i class="icon-chevron-left"></i>
                    </button>
                    <button class="btn btn-invisible next-row{{#unless showNext}} disabled{{/unless}}" data-action="scroll" data-action-type="next" data-id="{{getFieldValue model "id"}}">
                        <i class="icon-chevron-right"></i>
                    </button>
                </div>
                {{/if}}
                {{/unless}}
                {{#each meta.buttons}}
                    {{field ../this}}
                {{/each}}
            </div>
            {{/if}}
            </h1>
        </div>
        {{/if}}
        <div class="record">
            {{#each meta.panels}}
                {{#unless header}}
                    {{#if ../labelsOnTop}}
                        {{#each grid}}
                        <div class="row-fluid {{../name}}{{#if ../hide}}{{#if ../../../../../hidePanel}} hide{{/if}}{{/if}}">
                            {{#each this}}
                            <div class="span{{span}} record-cell{{#if cell_css_class}} {{cell_css_class}}{{/if}}" data-type="{{type}}" data-name="{{name}}">
                                {{#if ../../labels}}
                                    {{#unless dismiss_label}}
                                    <div class="record-label" data-name="{{name}}">{{#if label}}{{str label ../../../../../../../../module}}{{/if}}</div>
                                    {{/unless}}
                                {{/if}}
                                {{#if name}}
                                <span class="normal{{#if css}} {{css}}{{/if}} index{{index}}" data-fieldname="{{name}}" data-index="{{index}}">
                                    {{field ../../../../../../this model=../../../../../../model template=../../../../../../action}}
                                </span>
                                {{/if}}
                                {{#unless ../../../../../../createMode}}
                                    {{#notHas name ../../../../../../../noEditFields}}
                                    <span class="record-edit-link-wrapper" data-name="{{name}}">
                                        <a class="record-edit-link btn btn-invisible" data-type="{{type}}" data-name="{{name}}"><i class="icon-pencil"></i></a>
                                    </span>
                                    {{/notHas}}
                                {{/unless}}
                            </div>
                            {{/each}}
                        </div>
                        {{/each}}
                    {{else}}
                    <div class="form-horizontal">
                        <fieldset class="card2">
                            {{#each grid}}
                            <div class="row-fluid control-group {{../name}}{{#if ../hide}} hide{{/if}}">
                                {{#each this}}
                                    {{#if ../../labels}}
                                        {{#unless dismiss_label}}
                                        <div class="control-label span{{labelSpan}} {{label_css_class}}">
                                            <div class="control-label-background span{{labelSpan}}">
                                                <label class="tright record-label" data-name="{{name}}">{{str label ../../../../../../../module}}</label>
                                            </div>
                                        </div>
                                        {{/unless}}
                                    {{/if}}
                                    <div class="controls span{{span}} record-cell {{cell_css_class}}" data-type="{{type}}" data-name="{{name}}">
                                        {{#if name}}
                                        <span class="normal{{#if css}} {{css}}{{/if}} index{{index}}" data-fieldname="{{name}}" data-index="{{index}}">
                                            {{field ../../../../../../this model=../../../../../../model template=../../../../../../action}}
                                        </span>
                                        {{/if}}
                                        {{#unless ../../../../../../createMode}}
                                            {{#notHas name ../../../../../../../noEditFields}}
                                            <span class="record-edit-link-wrapper" data-name="{{name}}">
                                                <a class="record-edit-link btn btn-invisible" data-type="{{type}}" data-name="{{name}}"><i class="icon-pencil"></i></a>
                                            </span>
                                            {{/notHas}}
                                        {{/unless}}
                                    </div>
                                {{/each}}
                            </div>
                            {{/each}}
                        </fieldset>
                    </div>
                    {{/if}}
                {{/unless}}
            {{/each}}
        </div>
        <div class="row-fluid{{#unless hiddenPanelExists}} hide{{/unless}} show-hide-toggle">
            <div class="record-cell">
                <button class="btn-link btn-invisible more{{#if hideMoreButton}} hide{{/if}}"
                        data-moreless="more"
                        data-target=".panel_hidden">{{str "LBL_SHOW_MORE"}} <i class="icon-chevron-down"></i></button>
                <button class="btn-link btn-invisible less{{#if hideLessButton}} hide{{/if}}"
                        data-moreless="less"
                        data-target=".panel_hidden">{{str "LBL_SHOW_LESS"}} <i class="icon-chevron-up"></i></button>
            </div>
        </div>
    {{/if}}
</div>
